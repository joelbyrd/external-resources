<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <script>
		debug = true;
		baseURL = "https://prio-sndemo.gsipartners.com/";
        document.write("<base href='" + baseURL + "' />");
    </script>

    <meta http-equiv=Content-Type content="text/html; charset=UTF-8" />
    <title>Packing Slip</title>
    <!-- <link type="text/css" rel="stylesheet" href="file:///C:/VendorNet Agile/ImpDev/StdHTML/CSS/std.css" charset='UTF-8' />
    <link type="text/css" rel="stylesheet" href="/printing/packing/CSS/std.css" charset='UTF-8' /> -->
    <link type="text/css" rel="stylesheet" href="/shared/CSS/std.css" charset='UTF-8' />
    <link type="text/css" rel="stylesheet" href="/shared/CSS/carrierv3.css" charset="UTF-8" />

    <!-- <script src="file:///C:/VendorNet Agile/ImpDev/StdHTML/js/packslipBase.js" charset='UTF-8'></script> -->
    <script src="/shared/js/packslipBase.js" charset='UTF-8'></script>
    <script src="/shared/js/carrier_std.js" charset="UTF-8"></script>
    <!-- <script src="/printing/packing/js/carrier_std.js" charset="UTF-8" ></script> -->
    <script language="javascript">
        function BodyLoaded() {
            window.print();
            HidePrintMainWindow();
        }

        function HidePrintMainWindow() {
            if (window.opener && !window.opener.closed) {
                var oElement = window.opener;
                if (oElement.cleanUpArray) {
                    oElement.cleanUpArray();
                }
            }
            if (window.opener && !window.opener.closed) {
                var el = window.opener;
                if (el.cleanUpArray)
                    el.cleanUpArray();
            }
        }
    </script>
	<script>
		// ==== ==================== =================================
	// ==== SMART LABEL CREATION =================================
	// ==== ==================== =================================
	function mod36(stringin) {

		var row0 = ["0", "1", "2", "3"];
		var row1 = ["4", "5", "6", "7"];
		var row2 = ["8", "9", "A", "B"];
		var row3 = ["C", "D", "E", "F"];
		var row4 = ["G", "H", "I", "J"];
		var row5 = ["K", "L", "M", "N"];
		var row6 = ["O", "P", "Q", "R"];
		var row7 = ["S", "T", "U", "V"];
		var row8 = ["W", "X", "Y", "Z"];
		var grid = [row0, row1, row2, row3, row4, row5, row6, row7, row8];

		var Sprime = "";
		var Sdblprime = "";

		for (var i = 0; i < stringin.length; ++i) {
			var thisdigit = getCoord36(stringin.charAt(i));
			Sprime = Sprime + thisdigit.substring(0, 1);
			Sdblprime = Sdblprime + thisdigit.substring(1);
		}
		var Cprime = getCprime(Sprime); //getting correct value up until 21, need to account for the 0mod9 logic

		var Cdblprime = getCdblprime(Sdblprime); //tested, returning correct Cdblprime value, should yield 0

		return grid[Cprime][Cdblprime];

		//private functions to calculate mod 36 check digit
		function getCdblprime(stringin) {
			var crow0 = [0, 1, 2, 3];
			var crow1 = [1, 0, 3, 2];
			var crow2 = [2, 3, 0, 1];
			var crow3 = [3, 2, 1, 0];

			var crow0a = [0, 0, 0, 0];
			var crow1a = [0, 1, 2, 3];
			var crow2a = [0, 2, 3, 1];
			var crow3a = [0, 3, 1, 2];

			var addgrid = [crow0, crow1, crow2, crow3];
			var multgrid = [crow0a, crow1a, crow2a, crow3a];

			var total = 0;

			addstring = "c'': ";
			resstr = "res: ";

			var numbersToAdd = [];
			for (var i = 0; i < stringin.length; ++i) {
				if (((stringin.length + 1) - i) % 2 == 0) {
					addstring += "(" + stringin.charAt(i) + "*1)+";
					numbersToAdd.push(cdpo("M", parseInt(stringin.charAt(i)), 2));
					//total = parseInt(cdpo("A",parseInt(total),));
				}
				else {
					addstring += "(" + stringin.charAt(i) + "*2)+";
					numbersToAdd.push(cdpo("M", parseInt(stringin.charAt(i)), 1));
				}
			}//for each number in S''

			while (numbersToAdd.length > 1) {
				addstring = "c'' ";
				var numbersToAddNew = [];
				for (i = 0; i < numbersToAdd.length; i += 2) {
					if (i + 2 <= numbersToAdd.length) {
						addstring += "(" + numbersToAdd[i] + "+" + numbersToAdd[i + 1] + ")+";
						numbersToAddNew.push(cdpo("A", numbersToAdd[i], numbersToAdd[i + 1]));
					} else {
						addstring += numbersToAdd[i].toString();
						numbersToAddNew.push(numbersToAdd[i]);
					}
				}//for each numberstoAdd
				numbersToAdd = numbersToAddNew;

			}//while still numbers to add

			return numbersToAdd[0]; //should be base c''

			function cdpo(oin, int1, int2) { //C double prime operand function
				if (oin == "A") //a for "use addition"
					return addgrid[int1][int2];
				else
					return multgrid[int1][int2];
			}//private function for c double prime operand
		}//get double prime c

		function getCprime(stringin) {
			var total = 0;

			for (var i = 0; i < stringin.length; ++i) {
				var thisint = parseInt(stringin.charAt(i));
				if (((stringin.length + 1) - i) % 2 == 0)
					total += thisint * 2;
				else
					total += thisint;
			}//for each number
			total = (9 - (total % 9)) % 9;
			return total;
		} //getCprime

		function getCoord36(charin) { //working
			//document.write("chin:" + charin);
			var flag = false;
			for (var r = 0; r <= 8; ++r) {
				for (var c = 0; c <= 3; ++c) {
					//document.write(grid[r][c] +"="+ charin.toUpperCase());
					if (grid[r][c] == charin.toUpperCase()) {
						//document.write("FOUND");
						flag = true;
						return r.toString() + c.toString();
					}
				}//for each colum
			}//for each row
			if (!flag)
				return "00";
		}//func
	}//mod 36


	/**
	 * @class CoDivInfo
	 * @classdesc Represents a CoDiv Newgistics Mapping on the Urban Packing Slip
	 * 
	 * @param {string} name - Department Name
	 * @param {string} codiv - CoDivDept Number
	 * @param {string} disposition - Disposition ID
	 * @param {string} merchant - Merchant ID
	 */
	var CoDivInfo = (function () {
		function CoDivInfo(name, codiv, disposition, merchant) {
			if (arguments.length < 2)
				throw new Error("Not enough Arguments to CoDivInfo!")

			this.Name = name;
			this.CoDivDept = codiv;

			if (arguments.length > 2) {
				this.Disposition = disposition;
				this.MerchantId = merchant;
				this.useLabel = true;
			} else {
				this.useLabel = false;
			}
		}

		CoDivInfo.prototype.RequiresLabel = function () { return this.useLabel; };

		return CoDivInfo;
	})();

	Newgistics = {};
	Newgistics.Info = {
		"02": new CoDivInfo("Urban", "02", "51", "5151"),
		"01": new CoDivInfo("Anthropologie", "01", "52", "5252"),
		"03": new CoDivInfo("Free People", "03", "53", "5353"),
		"05": new CoDivInfo("Terrain", "05"),
		"06": new CoDivInfo("BHLDN", "06", "58", "5656"),
	};
	Newgistics.Info.Default = Newgistics.Info["02"];

	/**
	 * Gets a CoDivDept - Newgistics Data Mapping
	 * 
	 * @param {string} codiv - CoDivDept Identifiter
	 * @returns {CoDivInfo} - CoDiv Informational Mapping
	 */
	Newgistics.GetMapping = function (codiv) {
		codiv = (codiv || "").trim();
		if (Newgistics.Info.hasOwnProperty(codiv))
			return Newgistics.Info[codiv];
		return Newgistics.Info.Default;
	};

	/**
	 * Pads a string on the left
	 * @param {number} totalLen - Total Length of string
	 * @param {string} padChar - Character to use for padding
	 * @returns {string} - this string padded to the specified length
	 */
	String.prototype.PadLeft = function (totalLen, padChar) {
		var len = parseInt(totalLen);
		len = len < this.length ? this.length : len;
		padChar = (padChar || '0').charAt(0);
		return Array(len - this.length + 1).join(padChar) + this;
	};

	/**
	 * @class SmartLabel
	 * @classdesc Factory Method for Generating SmartLabel info
	 */
	var SmartLabel = (function () {
		/**
		 * @param {string} order - Order Number
		 * @param {string} codiv - Co/Div/Dept
		 * @param {string} zip - Five Digit Zip Code
		 */
		function SmartLabel(order, codiv, zip) {
			this.order = order || "";
			this.codiv = codiv || "02";
			this.zip = zip || "";

			if (typeof this.zip === "string" && this.zip.length > 5) {
				this.zip = this.zip.substr(0, 5);
			} else if (typeof this.zip === "number") {
				this.zip = this.zip.toString().PadLeft(5, '0');
			}
			
			if (typeof this.order === "string")
				this.order = this.order.trim();


		}

		SmartLabel.prototype.IsValid = function () {
			if (!(typeof this.zip === "string")) return false;
			if (!(typeof this.codiv === "string")) return false;
			if (!(typeof this.order === "string")) return false;

			var message = "";
			var flag = false;

			if (this.zip.length !== 5) {
				flag = true;
				message += "Zip code is not 5 digits";
			}

			if (this.codiv.length !== 2) {
				flag = true;
				message += "CoDiv is not 2 digits";
			}

			if (!flag) return true;
			return {
				status: false,
				message: message
			};
		};

		/**
		* @class LabelResult
		* @classdesc Represents The Results of Generating a Smart Label
		* 
		* @param {boolean} valid - True if Label received valid data, false otherwise
		* @param {boolean} hasLabel - True if the codiv generates labels.  
		* @param {string} labelData - Label output data or Error message
		*/
		function LabelResult(valid, hasLabel, labelData) {
			this.IsValid = valid;
			this.HasLabel = hasLabel;
			this.LabelData = labelData;

			/**
			 * Determine if a Label Has Text To Display
			 * @returns {boolean} - true if there is textual data to be displayed
			 */
			this.ShowLabelText = function () {
				// if it has a label, obviously show the text. Otherwise if its InValid, 
				// we need to display the error text
				return !this.IsValid || this.HasLabel;
			};

			/**
			 * Determine if a Label Has an Image To Display
			 * @returns {boolean} - true if label image shoule be displayed
			 */
			this.ShowLabelImage = function () {
				return this.IsValid && this.HasLabel;
			}

			/** 
			 * Determine if a Label Is Required for Current CoDiv
			 * @returns {boolean} - true if entire Newgistics section should be omitted (for CoDivs without newgistics support)
			 */
			this.HideNewgisticsSection = function () {
				return this.IsValid && !this.HasLabel;
			}
			
			
		};

		/** 
		 * Generates the Smart Label For the Provided Data 
		 * @returns {LabelResult} - Label Information
		 */
		SmartLabel.prototype.GetSmartLabel = function () {

			var test = this.IsValid();
			if (test !== true && !test.status) {
				return new LabelResult(false, false, test.message || "An Unknown Error has Occurred");
			}

			var brand = Newgistics.GetMapping(this.codiv);
			if (brand.RequiresLabel()) {

				var firstChar = this.order.charAt(0).toUpperCase();

				if (["Y", "T", "A", "F", "B", "M", "G", "P"].indexOf(firstChar) < 0) {
					return new LabelResult(false, true, "Please verify the Web Order or SalesPerson number");
				}

				var output = "72500" + this.zip;
				output = output + brand.Disposition + brand.MerchantId + "01";

				var paddedOrderNumber = this.order.PadLeft(13, '0');
				output = output + paddedOrderNumber;

				var checkDigit = mod36(output);
				output = output + checkDigit;
				return new LabelResult(true, true, output);
			}
			return new LabelResult(true, false, "No Label Required");
		};		
		return SmartLabel;

	})();
	// ==== ======================== =============================
	// ==== END SMART LABEL CREATION =============================
	// ==== ======================== =============================

	</script>

    <style type="text/css">
        table.hmkitems {
            width: 100%;
            margin: 0 auto;
            font-family: arial;
            border: 1pt solid black;
        }

            table.hmkitems th {
                text-align: left;
                font-weight: normal !important;
            }

            table.hmkitems tr {
                border: 1pt solid black;
            }

        .txtfamily {
            font-family: Arial;
            font-size: 7pt;
        }

        .align-left {
            text-align: left;
        }

        .align-center {
            text-align: center;
        }

        @media print {
            div {
                page-break-inside: avoid;
            }

            .pagewrap {
                height: 100% !important;
                padding: 0in !important;
            }
        }
		
		
    </style>
<style>
	.labelswrapper {width:100%;height:3.75in;clear:both;margin-top:0.35in;overflow:hidden;page-break-inside:avoid;}
.shippinglabelwrapper {width:5.55in;height:3.9in;overflow:hidden;float:left;}
.newgisticswrapper {clear:both;width:2.18in;height:6.5in;margin-top:0.1in;float:left;overflow:hidden;font-family:Arial,sans-serif;font-size:7pt;white-space:nowrap;/*border:1px solid red;*/}
.ierot {writing-mode:tb-rl;}
.hide {visibility:hidden;}
</style>
<!-- usps Styles -->
<style type="text/css">
	.usps-wrapper {
		/*border:1px solid black;*/
		width:4in;
		height:7.5in;
		float:left;
		font-family:Arial, sans-serif;
		font-size:8pt;
		overflow:hidden;
	}
	.usps-sf {height:1.12in;clear:both;width:3.8in;margin-left:0.05in;font-size:9pt;overflow:hidden;}
	.usps-st {height:1.35in;clear:both;width:3.8in;margin-left:0.05in;font-size:10pt;overflow:hidden;}
	.usps-largebarcode {width:4in;padding:0;margin:0;clear:both;}
	.usps-toprowff {width:100%;height:1in;border-bottom:2pt solid black;}
	.usps-svciconff {border-right:2pt solid black;float:left;font-size:60pt;font-weight:bold;overflow:hidden;height:1in;width:1in;text-align:center;}
	.usps-topboxff {border:2pt solid black;float:right;height:0.8in;width:1.25in;margin:0.1in;text-align:center;overflow:hidden;font-size:8pt;font-weight:bold;white-space:nowrap;}
	.usps-svcbannerff {border-bottom:1pt solid black;font-size:20pt;/*font-weight:bold;*/text-align:center;white-space:nowrap;}
	.usps-returnaddyff {float:left;width:2in;height:1.25in;padding-left:0.05in;padding-top:0.05in;line-height:10pt;}
	.usps-weightff {float:right;width:1.5in;margin-top:0.25in;font-size:12pt;}
	.usps-toaddyff {float:left;width:3in;height:1in;padding-left:0.5in;font-size:10pt;}
	.usps-bottombarcodeff {text-align:center;border-top:0.0625in solid black;border-bottom:0.0625in solid black;font-size:10pt;font-weight:bold;line-height:14pt;padding-top:0.05in;padding-bottom:0.05in;}
	.usps-separator {width:100%;border-bottom:1px dotted black;font-size:8pt;height:0.15in;text-align:center;margin-bottom:0.1in;}
	/* FF */
	.ffrot {-moz-transform:rotate(-90deg);-moz-transform-origin:2in 2in;}
	.ffwrapper {width:7.5in;height:4in;overflow:hidden;}
	
	/* IE */
	.iewrapper {writing-mode:tb-rl;overflow:hidden;width:5.55in;height:3.65in;}
	.usps-wrapper-ie {
		/*order:1px solid red;*/
		width:5.55in;
		height:3.65in;
		float:left;
		font-family:Arial, sans-serif;
		font-size:8pt;
		overflow:hidden;
	}
	.usps-sf-ie {width:1.12in;height:3.65in;margin-top:0.05in;font-size:9pt;overflow:hidden;float:right;line-height:9pt;}
	.usps-st-ie {width:1.25in;height:3.65in;margin-top:0.05in;font-size:10pt;overflow:hidden;float:right;line-height:10pt;}
	.usps-largebarcode-ie {height:3.65in;padding:0;margin:0;overflow:hidden;float:right;}
	
	.usps-toprowie {height:3.65in;width:1in;float:right;border-left:2pt solid black;}
	.usps-svciconie {border-bottom:2pt solid black;float:left;font-size:60pt;font-weight:bold;overflow:hidden;height:1in;width:1in;text-align:center;}
	.usps-topboxie {border:2pt solid black;float:right;width:0.8in;height:1.25in;margin:0.1in;text-align:center;overflow:hidden;font-size:8pt;font-weight:bold;}
	.usps-svcbannerie {border-left:1pt solid black;font-size:20pt;/*font-weight:bold;*/text-align:center;}
	.usps-returnaddyie {float:left;height:2in;width:1.25in;padding-top:0.05in;padding-right:0.05in;line-height:10pt;}
	.usps-weightie {float:right;height:1.5in;margin-right:0.25in;font-size:12pt;}
	.usps-toaddyie {float:left;height:3.15in;width:1in;padding-top:0.5in;font-size:10pt;}
	.usps-bottombarcodeie {text-align:center;border-left:0.0625in solid black;border-right:0.0625in solid black;font-size:10pt;font-weight:bold;line-height:14pt;padding-left:0.05in;padding-right:0.05in;}
	
	.rotate90 {    
		-ms-transform: rotate(-90deg); 
		-ms-transform-origin: 0% 0%; 
		-webkit-transform: rotate(-90deg); 
		-webkit-transform-origin: 0% 0%; 
		transform: rotate(-90deg);
		transform-origin: 0% 0%;
		width:2.5in;height:8in;margin-top:2.5in;}
</style>	
    <script>
        var pageCounter = 1;
    </script>
</head>

<body Onload="BodyLoaded()">
    
    

        <script>
			var shortzip = ""
			// "«STZip»"; //5 digit zip.
			if ("«ThisCarrier»".trim() == "USPS") {
				shortzip = "«STZip»";
			}
			else {
				shortzip = "90001";
			}
			shortzip = shortzip.trim();
			shortzip = shortzip.substring(0, 5);
            //pageBreak("1" != "1");
            if (pageCounter != 1) {
                pageBreak(true);
            }
			
			
			
            pageCounter++;
            //pageBreak("1" != "1");

            console.log("host:" + location.protocol);

            /*
            UPS test : WCGB test: order G65154660001
            fedex: A&F:  JAG00002
            USPS: A&F 6074500
            */
            //Start of shipping label logic

            var obj = { //non packslip-map data and static data first,
                orientation: "R", //"P" for Portrait, "R" for right landscape, "L" for left landscape
                carrier: "UPSN", //-
                //carrier: 			"UPSN",
                csPhone: "1-800-SHOPPRIO", //unique per client, must be in format of xxx-xxx-xxxx or xxx-xxxx
                imgLocaton: location.protocol + "//" + document.domain.toString(), //hardcoded to /shared/assets?
                barcodeLocation: location.protocol + "//" + document.domain.toString() + "/images",
                orderNo: "MBAS1-03",
                retailerPhone: "1-800-SHOPPRIO", //set per client, formatted via JS
                returnToAddress: ["<b>PRIO.COM</b>", "935 1st Ave", "Pillar 216", "King of Prussia, PA 19406"], //or define your own
                shipAlias: "", //for use on packslip/newgistics, not used in carrier
                shipMethod: "UPS OVERNIGHT",
                shipMethodDesc: "UPS OVERNIGHT",
                shipTo: ["«ShipToFName» «ShipToLName»", "«ShipToName»", "«ShipToStreet»", "«ShipToRef1»", "«ShipToRef2»", "Leakesville MS 90001", ""],
                trackingNumber: "1ZABCUPS0100000710",
                weight: "3",
                webOrderNo: " <br/> Phone: " + formatPhoneNumber("987-456-1230"),
                fedexData: {
                    //missing: CustomerName, shipDate, Hindicator,
                    barcode1D: "«1DBarcode»", //-
                    barcode96: "«128Barcode»", //-
                    customerName: "«CustomerName»",
                    readable96: "«96Readable»", //-
                    addrBarcode: "«AddrBarcode»", //-
                    carrierSM: "01", //-
                    CLS: "«CLS»", //
                    deliveryDate: "«DeliveryDate»", //-
                    deliveryDay: "«DeliveryDay»", //-
                    dryIce: "«DryIce»", //-
                    endorsement: "«Endorsement»", //smartpost //-
                    FHDSvcCode: "«FHDSvcCode»", //-
                    formID: "«FormID»", //-
                    fxrsVersion: "«FXRSVersion»", // -
                    handleCode: "«HandleCode»", //-
                    IMPB: "«IMPB»", //smartpost, require on all* //-
                    locID: "«LocID»", //-
                    meterNo: "«MeterNo»", //-
                    originID: "«OriginID»", //-
                    payType: "«PayType»", //-
                    pdf417: "«PDF417»", //required //-
                    productName: "«ProductName»", //-
                    rampID: "«RampID»", //-
                    serviceCode: "«ServiceCode»", //-
                    shipDate: "02/12/2018", //-
                    shipToPhone: "987-456-1230", //-
                    shipToPhone2: "«ShipToPhone2»", //-
                    shipToPhone3: "«ShipToPhone3»", //-
                    shipToCountry: "US",
                    shipToZip: "90001",
                    stateUS: "«StateUS»", //-
                    ursa30: "«Ursa»", //-
                    VersionCode: "«VersionCode»", //smartpost //-
                    weightUOM: "LBS" //default to lbs?
                    //now in JS:  TrackingFormatted
                },//fedexObject
                uspsData: {
                    companyName: "Prio",
                    shipToZip: "90001",
                    carrierSM: "01",
                    construct: "«Construct»",
                    shipDate: "02/12/2018",
                    shipFromZip: "«VendorZip»"
                },//uspsData
                upsData: {
                    bullDomain: document.domain.toString(), //to check local vs site merges
                    //bullseye: "«BullsEye»", //done via JS
                    carrierSM: "01",
                    orderSMDesc: "UPS OVERNIGHT",
                    urc: " CA 901 9-13",
                    urcVersion: "90.5A",
                    urcDate: "2017-07-01",
                    shipDate: "02/12/2018",
                    shipToCity: "Leakesville",
                    shipToState: "MS",
                    shipToZip: "90001",
                    shipToCountry: "840",
                    //serviceIcon: "«ServiceIcon»", //set via JS
                    isThirdParty: true //set per client
                    //adultSignature: "«AdultSignatureText»" // set via JS
                    //trackformatting in js
                },//ups data
                purlData: {

                }, //purolator data
                newgisticsData: {

                }//newgistics data if needed
            }//carrier info object

            var thisLabel = new CarrierLabel(obj);
            //End of shipping label logic

            function removeBreaks(str) {
                str = str.replace(/(&lt;BR&gt;)/g, "<br/>");
                document.write(str);
                console.log(str);
            }

            function formatPhoneNumber(number) {

                if (number.length == 10)
                    return number = "(" + number.substring(0, 3) + ") " + number.substring(3, 6) + "-" + number.substring(6, 10);
                else if (number.length == 11)
                    return number = number.charAt(0) + " (" + number.substring(1, 4) + ") " + number.substring(4, 7) + "-" + number.substring(7, 11);
                else
                    return number;
            }
        </script>

        <div class='pagewrap' style='overflow:visible;'>
            <div class="txtfamily" style='width:7in; margin: 0 auto;  height:1in;'>
                <div style="width:1.6in; height:.7in; border:none; float:left;">
                    <!-- logo -->
                    <img src="/printing/packing/Prio-logo.png" style="height:.5in;" />
                </div>
                <div style="width:1.5in; height:.7in; float:left; margin-left:.1in;">
                    <b>KOP</b><br />
                    935 1st Ave<br />
                    King of Prussia, PA 19406 888888888888
                </div>
                <div style="width:2.5in; height:.7in; float:left; margin-left:1.2in;">
                    <span>Shipping Order ID: MBAS1-03</span> <span style="padding-left:40px;"> Pg.1 of 1</span><br />
                    <b>For Consumer Service:</b><br />
                    prio.com<br />
                    1-800-SHOPPRIO
                </div>
            </div>


            <div style='width:7in; margin: 0 auto; padding 9%; height:1.1in; margin-top:.1in; overflow:hidden;'>
                <div class="txtfamily" style="width:49%; height:1in; float:left;">
                    <div style="width:35%; height:1in; float:left;">
                        Consumer Name:<br />
                        Company Name:<br />
                        Ship To Address:<br /><br /><br />
                        <script>if ("«ShipToRef1»" != "" || "«ShipToRef2»" != "") document.write("<br/>");</script>
                        Consumer Phone:<br />
                    </div>
                    <div style="width:50%; height:1in;float:left;">
                        <div style="width:100%;">«ShipToFName»&nbsp;«ShipToLName»</div>
                        <div style="width:100%; height:.11in;">«ShipToName»</div>
                        <div style="width:100%; height:.11in;">«ShipToStreet»&nbsp;</div>
                        <div style="width:100%;">«ShipToRef1» «ShipToRef2»</div>                        
                        <div style="width:100%;">Leakesville&nbsp;MS&nbsp;90001<br/>&nbsp;<br/></div>                        
                        <div style="width:100%; height:.11in;">
                            <script>document.write(formatPhoneNumber('987-456-1230'));</script>
                        </div>
                    </div>
                </div>

                <div class="txtfamily" style="width:30%; height:1in; float:left; margin-left:.8in;">
                    <div style="width:35%; height:1in; float:left;">
                        Order No:<br />
                        Ship Method:<br />
                        Order Date:<br />
                    </div>

                    <div style="width:60%; height:1in;float:left;">
                        <div style="width:100%; height:.11in; white-space:nowrap;"></div>
                        <div style="width:100%; height:.11in; white-space:nowrap;">UPS OVERNIGHT</div>
                        <div style="width:100%; height:.11in; white-space:nowrap;">01/14/2018</div>
                    </div>
                </div>
            </div>

            <div style="height:2.6in; width:7in;  margin: 0 auto;">
                <table class="hmkitems txtfamily" style="">
                    <tr style="border-bottom:none; font-size:10pt!important;">
                        <th style="width:16%;">Order Line #</th>
                        <th style="width:20%;">Item #</th>
                        <th style="width:50%;">Description</th>
                        <th style="width:14%;">Shipped Qty</th>
                    </tr>

                    <tr><td class="align-center">3</td><td class="align-left">9E9D2256</td><td class="align-left">3 - YM DOLL SHOES ASSORTED</td><td class="align-center">2</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                </table>

                <div name="comment" style="width:5in; float:left;height:1in; margin-top:.05in; overflow:hidden; font-size: 8pt;">

                    <script>
                        removeBreaks("");
                    </script>

                </div>
            </div>
            <!-- height:4in; width:6in; margin: 0 auto;  margin-top:1in; overflow:hidden; border: 1pt solid red; -->
            <!-- <div class="label-container" style ="height:4.1in; width:7in; margin-left: -.0625in; bottom:0;"> -->
            <div class="label" style="height:4in; width:6in; margin-top:1.589in; overflow:hidden; border:1pt solid white; margin-left: -.05in;">
                <script type="text/javascript">
                    if ("1" == "1")
                        thisLabel.selectLabelType();
                </script>
            </div>
            <!-- </div> -->
        </div> <!-- pagewrap -->
        <!-- Page two:  Newgistics -->
		<div class='pagewrap' style='overflow:visible;page-break-before: always;'>
			<div class="rotate90">
            		<!-- * NEWGISTICS LABEL* -->
					<script type="text/javascript">
						// psCompanyCode - Default to UO. 1 = AN. For CoDivDept, 01 = AN/52, 02 = UO/51.

						var codiv_dept = "«CoDivDept»";
						codiv_dept = "02";
						var returnBarcode = "«ReturnBarcode»";
						var sortCode = "«SortCode»";
						var ordernumber = "";
						var codiv_dept = "02";
						var returnBarcode = "\\42056901\\9202390101923408060805";
						var sortCode = "V51";
						var ordernumber = "Y108093434";

						
						var smartLabelFactory = new SmartLabel(ordernumber, codiv_dept, shortzip);
						var smartLabel = smartLabelFactory.GetSmartLabel();

						var hideLabel = false;
						if ("«SortCode»".indexOf('HIDE') > -1)
							hideLabel = true;

						function printHuman(stringin) {
							stringin = stringin.replace(/\\/g, "");
							var sp = " ";
							return stringin.substring(8, 12) + sp + stringin.substring(12, 16) + sp + stringin.substring(16, 20) +
								sp + stringin.substring(20, 24) + sp + stringin.substring(24, 28) + sp + stringin.substring(28);
						}

						var coDivDept_ = "«CoDivDept»";
						
						// If on the first page, print label. Otherwise, do nothing.
						
						if (("1" == "1" || debug) && !smartLabel.HideNewgisticsSection())
							document.write('<div class="newgisticswrapper">');
						else 
						{
							
							document.write('<div class="newgisticswrapper hide">');
						}
					</script>
					<!--<div class="newgisticswrapper">--> <!-- width:2.18in;height:4.625in; -->
					<div style="float:right;height:6.5in;width:0.75in;margin:0;padding:0;" >
						<!-- top row wrapper -->
						<div style="width:0.75in;height:5.4in;float:right;" class="ierot">
							<!-- top row, left side -->
							<div style="height:1.25in;width:0.55in;overflow:hidden;font-size:6pt;float:left;white-space:nowrap;">
								<script>addressFormat(["«ShipToFName»&nbsp;«ShipToLName»","«ShipToName»","«ShipToStreet»","«ShipToRef1» «ShipToRef2»","Leakesville&nbsp;MS&nbsp;90001"]);</script>
							</div>
							<script>						
								if (smartLabel.ShowLabelImage()){
									document.write('<img src="/images/barcode.ashx?Code=' + smartLabel.LabelData + '&Type=128Auto&X=3&Y=0.5&rotate=true&round=1" style="width:0.5in;height:3in;float:left;margin:0;margin-top:0.05in;" alt="Invalid: missing SL barcode - ' + smartLabel.LabelData + '" />');
								}
							
							</script>
							<!-- <img src="packing/newgistlogo-rot.gif" style="width:0.2in;clear:both;float:left;" /> --> <!-- not required -->
							<div style="float:left;margin-top:0.5in;font-size:8pt;">
							<script>if (smartLabel.ShowLabelText()) { document.write(smartLabel.LabelData.toUpperCase()); }</script></div>
						</div>
						<div style='width:0.8in;height:1in;float:right;text-align:center;margin:0px;overflow:hidden;' class='ierot'>
							<!-- top row, right side -->
							<div style='height:0.90in;border:solid black 3px;padding:.02in;line-height:1;font-size:6pt;'>
								NO POSTAGE<br />
								NECESSARY IF <br />
								MAILED IN THE <br />
								UNITED STATES
							</div>
							<div style='height:1in;width:.04in;border-left:solid black 5px;overflow:hidden;'>&nbsp;</div>
							<div style='height:1in;width:.04in;border-left:solid black 5px;overflow:hidden;'>&nbsp;</div>
							<div style='height:1in;width:.04in;border-left:solid black 5px;overflow:hidden;'>&nbsp;</div>
						</div>
					</div><!-- end top row -->
					<div style="float:right;height:6.5in;width:1.35in;margin-right:0.0in;">
						<!-- bottom row wrapper -->
						<div style="width:1.32in;height:4.5in;float:right;border-left:6px solid black;border-right:6px solid black;margin-right:-0.1in;" class="ierot">
							<!-- bottom row, left side -->
							<div style="float:left;margin-top:0.1in;font-size:12pt;height:4.26in;text-align:center;">USPS PARCEL RTN SVC</div>
							<script>document.write('<img src="/images/barcode.ashx?Code=' + returnBarcode + '&Type=128C&X=4.25&Y=0.8&rotate=true&rounding=2" style="width:0.75in;height:4.25in;float:left;margin:0.1in;margin-top:0.05in;" alt="Invalid: missing RET barcode - ' + returnBarcode + '" />');</script>
							<div style="float:left;margin-top:0.1in;font-size:10pt;height:4.25in;text-align:center;">
							<script>document.write(printHuman(returnBarcode));</script></div>
						</div>
						<div style='width:1.35in;height:1.75in;float:right;text-align:center;margin:0px;overflow:hidden;margin-top:0.05in;' class='ierot'>
							<!-- bottom row, right side -->
							<div style='height:1.65in;border:solid black 3px;padding:.02in;line-height:1;font-size:9pt;font-weight:bold;'>
								PARCEL SELECT RTN SVC<br /><!-- too close and font size too small -->
								<span style="font-weight:normal;font-size:6pt;white-space:nowrap;font-family:Arial,sans-serif;">NEWGISTICS, INC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERMIT NO. 77000</span>
							</div>
							<div style='height:1.45in;padding:.02in;line-height:1;font-size:9pt;font-weight:bold;text-align:left;margin-top:0.1in;margin-right:0.05in;'>
								SMARTLABEL RTN<br />
								PARCEL RTN SVC<br /><!-- too small -->
							</div>
							<div style='height:1.45in;padding:.02in;line-height:.2;font-size:0.16in;font-weight:bold;text-align:left;margin-top:0.1in;margin-right:0.05in;'>
								56901
							</div>
							<div style='font-size:17pt;border:solid black 4pt;height:0.48in;margin-top:0.5in;margin-right:0.05in;text-align:center;padding:.02in;;'>
								<div style=''>
								<script>document.write(sortCode);</script></div><!-- too small 2/16in -->
							</div>
						</div>
					</div><!-- end bottom row -->

				</div><!-- end smart label -->
			</div>
			<!--<div>           
                <div style="font-size:6pt;height:1in;float:left;">
                    <br /><br />     
                    <div style="width:100%;">Testing Engineer</div>
                    <div style="width:100%; height:.11in;">555 epip phase</div>
                    <div style="width:100%; height:.11in;">BLR area&nbsp;</div>
                    <div style="width:100%;">Meens street</div>                 
                </div>  
                <div style="vertical-align:top;">
                    <img src="/Printing/Packing/TEMP_NEWGISTICS_TOPRIGHT.png" />
                </div> 
            </div>
            <div style="float:left;clear:both;">
                <img src="/Printing/Packing/TEMP_NEWGISTICS_BOTTOM.png" />
            </div> -->
	<!-- $$$$$$$$$$$$$$$ </div> --></div>

    

        <script>
			var shortzip = ""
			// "«STZip»"; //5 digit zip.
			if ("«ThisCarrier»".trim() == "USPS") {
				shortzip = "«STZip»";
			}
			else {
				shortzip = "90001";
			}
			shortzip = shortzip.trim();
			shortzip = shortzip.substring(0, 5);
            //pageBreak("1" != "1");
            if (pageCounter != 1) {
                pageBreak(true);
            }
			
			
			
            pageCounter++;
            //pageBreak("1" != "1");

            console.log("host:" + location.protocol);

            /*
            UPS test : WCGB test: order G65154660001
            fedex: A&F:  JAG00002
            USPS: A&F 6074500
            */
            //Start of shipping label logic

            var obj = { //non packslip-map data and static data first,
                orientation: "R", //"P" for Portrait, "R" for right landscape, "L" for left landscape
                carrier: "UPSN", //-
                //carrier: 			"UPSN",
                csPhone: "1-800-SHOPPRIO", //unique per client, must be in format of xxx-xxx-xxxx or xxx-xxxx
                imgLocaton: location.protocol + "//" + document.domain.toString(), //hardcoded to /shared/assets?
                barcodeLocation: location.protocol + "//" + document.domain.toString() + "/images",
                orderNo: "MBAS1-03",
                retailerPhone: "1-800-SHOPPRIO", //set per client, formatted via JS
                returnToAddress: ["<b>PRIO.COM</b>", "935 1st Ave", "Pillar 216", "King of Prussia, PA 19406"], //or define your own
                shipAlias: "", //for use on packslip/newgistics, not used in carrier
                shipMethod: "UPS OVERNIGHT",
                shipMethodDesc: "UPS OVERNIGHT",
                shipTo: ["«ShipToFName» «ShipToLName»", "«ShipToName»", "«ShipToStreet»", "«ShipToRef1»", "«ShipToRef2»", "Leakesville MS 90001", ""],
                trackingNumber: "1ZABCUPS0100001782",
                weight: "2",
                webOrderNo: " <br/> Phone: " + formatPhoneNumber("987-456-1230"),
                fedexData: {
                    //missing: CustomerName, shipDate, Hindicator,
                    barcode1D: "«1DBarcode»", //-
                    barcode96: "«128Barcode»", //-
                    customerName: "«CustomerName»",
                    readable96: "«96Readable»", //-
                    addrBarcode: "«AddrBarcode»", //-
                    carrierSM: "01", //-
                    CLS: "«CLS»", //
                    deliveryDate: "«DeliveryDate»", //-
                    deliveryDay: "«DeliveryDay»", //-
                    dryIce: "«DryIce»", //-
                    endorsement: "«Endorsement»", //smartpost //-
                    FHDSvcCode: "«FHDSvcCode»", //-
                    formID: "«FormID»", //-
                    fxrsVersion: "«FXRSVersion»", // -
                    handleCode: "«HandleCode»", //-
                    IMPB: "«IMPB»", //smartpost, require on all* //-
                    locID: "«LocID»", //-
                    meterNo: "«MeterNo»", //-
                    originID: "«OriginID»", //-
                    payType: "«PayType»", //-
                    pdf417: "«PDF417»", //required //-
                    productName: "«ProductName»", //-
                    rampID: "«RampID»", //-
                    serviceCode: "«ServiceCode»", //-
                    shipDate: "02/12/2018", //-
                    shipToPhone: "987-456-1230", //-
                    shipToPhone2: "«ShipToPhone2»", //-
                    shipToPhone3: "«ShipToPhone3»", //-
                    shipToCountry: "US",
                    shipToZip: "90001",
                    stateUS: "«StateUS»", //-
                    ursa30: "«Ursa»", //-
                    VersionCode: "«VersionCode»", //smartpost //-
                    weightUOM: "LBS" //default to lbs?
                    //now in JS:  TrackingFormatted
                },//fedexObject
                uspsData: {
                    companyName: "Prio",
                    shipToZip: "90001",
                    carrierSM: "01",
                    construct: "«Construct»",
                    shipDate: "02/12/2018",
                    shipFromZip: "«VendorZip»"
                },//uspsData
                upsData: {
                    bullDomain: document.domain.toString(), //to check local vs site merges
                    //bullseye: "«BullsEye»", //done via JS
                    carrierSM: "01",
                    orderSMDesc: "UPS OVERNIGHT",
                    urc: " CA 901 9-13",
                    urcVersion: "90.5A",
                    urcDate: "2017-07-01",
                    shipDate: "02/12/2018",
                    shipToCity: "Leakesville",
                    shipToState: "MS",
                    shipToZip: "90001",
                    shipToCountry: "840",
                    //serviceIcon: "«ServiceIcon»", //set via JS
                    isThirdParty: true //set per client
                    //adultSignature: "«AdultSignatureText»" // set via JS
                    //trackformatting in js
                },//ups data
                purlData: {

                }, //purolator data
                newgisticsData: {

                }//newgistics data if needed
            }//carrier info object

            var thisLabel = new CarrierLabel(obj);
            //End of shipping label logic

            function removeBreaks(str) {
                str = str.replace(/(&lt;BR&gt;)/g, "<br/>");
                document.write(str);
                console.log(str);
            }

            function formatPhoneNumber(number) {

                if (number.length == 10)
                    return number = "(" + number.substring(0, 3) + ") " + number.substring(3, 6) + "-" + number.substring(6, 10);
                else if (number.length == 11)
                    return number = number.charAt(0) + " (" + number.substring(1, 4) + ") " + number.substring(4, 7) + "-" + number.substring(7, 11);
                else
                    return number;
            }
        </script>

        <div class='pagewrap' style='overflow:visible;'>
            <div class="txtfamily" style='width:7in; margin: 0 auto;  height:1in;'>
                <div style="width:1.6in; height:.7in; border:none; float:left;">
                    <!-- logo -->
                    <img src="/printing/packing/Prio-logo.png" style="height:.5in;" />
                </div>
                <div style="width:1.5in; height:.7in; float:left; margin-left:.1in;">
                    <b>KOP</b><br />
                    935 1st Ave<br />
                    King of Prussia, PA 19406
                </div>
                <div style="width:2.5in; height:.7in; float:left; margin-left:1.2in;">
                    <span>Shipping Order ID: MBAS1-03</span> <span style="padding-left:40px;"> Pg.1 of 1</span><br />
                    <b>For Consumer Service:</b><br />
                    prio.com<br />
                    1-800-SHOPPRIO
                </div>
            </div>


            <div style='width:7in; margin: 0 auto; padding 9%; height:1.1in; margin-top:.1in; overflow:hidden;'>
                <div class="txtfamily" style="width:49%; height:1in; float:left;">
                    <div style="width:35%; height:1in; float:left;">
                        Consumer Name:<br />
                        Company Name:<br />
                        Ship To Address:<br /><br /><br />
                        <script>if ("«ShipToRef1»" != "" || "«ShipToRef2»" != "") document.write("<br/>");</script>
                        Consumer Phone:<br />
                    </div>
                    <div style="width:50%; height:1in;float:left;">
                        <div style="width:100%;">«ShipToFName»&nbsp;«ShipToLName»</div>
                        <div style="width:100%; height:.11in;">«ShipToName»</div>
                        <div style="width:100%; height:.11in;">«ShipToStreet»&nbsp;</div>
                        <div style="width:100%;">«ShipToRef1» «ShipToRef2»</div>                        
                        <div style="width:100%;">Leakesville&nbsp;MS&nbsp;90001<br/>&nbsp;<br/></div>                        
                        <div style="width:100%; height:.11in;">
                            <script>document.write(formatPhoneNumber('987-456-1230'));</script>
                        </div>
                    </div>
                </div>

                <div class="txtfamily" style="width:30%; height:1in; float:left; margin-left:.8in;">
                    <div style="width:35%; height:1in; float:left;">
                        Order No:<br />
                        Ship Method:<br />
                        Order Date:<br />
                    </div>

                    <div style="width:60%; height:1in;float:left;">
                        <div style="width:100%; height:.11in; white-space:nowrap;"></div>
                        <div style="width:100%; height:.11in; white-space:nowrap;">UPS OVERNIGHT</div>
                        <div style="width:100%; height:.11in; white-space:nowrap;">01/14/2018</div>
                    </div>
                </div>
            </div>

            <div style="height:2.6in; width:7in;  margin: 0 auto;">
                <table class="hmkitems txtfamily" style="">
                    <tr style="border-bottom:none; font-size:10pt!important;">
                        <th style="width:16%;">Order Line #</th>
                        <th style="width:20%;">Item #</th>
                        <th style="width:50%;">Description</th>
                        <th style="width:14%;">Shipped Qty</th>
                    </tr>

                    <tr><td class="align-center">3</td><td class="align-left">9E9D2256</td><td class="align-left">3 - YM DOLL SHOES ASSORTED</td><td class="align-center">1</td></tr>
                    <tr><td class="align-center">4</td><td class="align-left">A346932E</td><td class="align-left">5 - YM DOLL SHOES ASSORTED</td><td class="align-center">3</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                    <tr><td class="align-center">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-left">&nbsp;</td><td class="align-center">&nbsp;</td></tr>
                </table>

                <div name="comment" style="width:5in; float:left;height:1in; margin-top:.05in; overflow:hidden; font-size: 8pt;">

                    <script>
                        removeBreaks("");
                    </script>

                </div>
            </div>
            <!-- height:4in; width:6in; margin: 0 auto;  margin-top:1in; overflow:hidden; border: 1pt solid red; -->
            <!-- <div class="label-container" style ="height:4.1in; width:7in; margin-left: -.0625in; bottom:0;"> -->
            <div class="label" style="height:4in; width:6in; margin-top:1.589in; overflow:hidden; border:1pt solid white; margin-left: -.05in;">
                <script type="text/javascript">
                    if ("1" == "1")
                        thisLabel.selectLabelType();
                </script>
            </div>
            <!-- </div> -->
        </div> <!-- pagewrap -->
        <!-- Page two:  Newgistics -->
		<div class='pagewrap' style='overflow:visible;page-break-before: always;'>
			<div class="rotate90">
            		<!-- * NEWGISTICS LABEL* -->
					<script type="text/javascript">
						// psCompanyCode - Default to UO. 1 = AN. For CoDivDept, 01 = AN/52, 02 = UO/51.

						var codiv_dept = "«CoDivDept»";
						codiv_dept = "02";
						var returnBarcode = "«ReturnBarcode»";
						var sortCode = "«SortCode»";
						var ordernumber = "";
						var codiv_dept = "02";
						var returnBarcode = "\\42056901\\9202390101923408060805";
						var sortCode = "V51";
						var ordernumber = "Y108093434";

						
						var smartLabelFactory = new SmartLabel(ordernumber, codiv_dept, shortzip);
						var smartLabel = smartLabelFactory.GetSmartLabel();

						var hideLabel = false;
						if ("«SortCode»".indexOf('HIDE') > -1)
							hideLabel = true;

						function printHuman(stringin) {
							stringin = stringin.replace(/\\/g, "");
							var sp = " ";
							return stringin.substring(8, 12) + sp + stringin.substring(12, 16) + sp + stringin.substring(16, 20) +
								sp + stringin.substring(20, 24) + sp + stringin.substring(24, 28) + sp + stringin.substring(28);
						}

						var coDivDept_ = "«CoDivDept»";
						
						// If on the first page, print label. Otherwise, do nothing.
						
						if (("1" == "1" || debug) && !smartLabel.HideNewgisticsSection())
							document.write('<div class="newgisticswrapper">');
						else 
						{
							
							document.write('<div class="newgisticswrapper hide">');
						}
					</script>
					<!--<div class="newgisticswrapper">--> <!-- width:2.18in;height:4.625in; -->
					<div style="float:right;height:6.5in;width:0.75in;margin:0;padding:0;" >
						<!-- top row wrapper -->
						<div style="width:0.75in;height:5.4in;float:right;" class="ierot">
							<!-- top row, left side -->
							<div style="height:1.25in;width:0.55in;overflow:hidden;font-size:6pt;float:left;white-space:nowrap;">
								<script>addressFormat(["«ShipToFName»&nbsp;«ShipToLName»","«ShipToName»","«ShipToStreet»","«ShipToRef1» «ShipToRef2»","Leakesville&nbsp;MS&nbsp;90001"]);</script>
							</div>
							<script>						
								if (smartLabel.ShowLabelImage()){
									document.write('<img src="/images/barcode.ashx?Code=' + smartLabel.LabelData + '&Type=128Auto&X=3&Y=0.5&rotate=true&round=1" style="width:0.5in;height:3in;float:left;margin:0;margin-top:0.05in;" alt="Invalid: missing SL barcode - ' + smartLabel.LabelData + '" />');
								}
							
							</script>
							<!-- <img src="packing/newgistlogo-rot.gif" style="width:0.2in;clear:both;float:left;" /> --> <!-- not required -->
							<div style="float:left;margin-top:0.5in;font-size:8pt;">
							<script>if (smartLabel.ShowLabelText()) { document.write(smartLabel.LabelData.toUpperCase()); }</script></div>
						</div>
						<div style='width:0.8in;height:1in;float:right;text-align:center;margin:0px;overflow:hidden;' class='ierot'>
							<!-- top row, right side -->
							<div style='height:0.90in;border:solid black 3px;padding:.02in;line-height:1;font-size:6pt;'>
								NO POSTAGE<br />
								NECESSARY IF <br />
								MAILED IN THE <br />
								UNITED STATES
							</div>
							<div style='height:1in;width:.04in;border-left:solid black 5px;overflow:hidden;'>&nbsp;</div>
							<div style='height:1in;width:.04in;border-left:solid black 5px;overflow:hidden;'>&nbsp;</div>
							<div style='height:1in;width:.04in;border-left:solid black 5px;overflow:hidden;'>&nbsp;</div>
						</div>
					</div><!-- end top row -->
					<div style="float:right;height:6.5in;width:1.35in;margin-right:0.0in;">
						<!-- bottom row wrapper -->
						<div style="width:1.32in;height:4.5in;float:right;border-left:6px solid black;border-right:6px solid black;margin-right:-0.1in;" class="ierot">
							<!-- bottom row, left side -->
							<div style="float:left;margin-top:0.1in;font-size:12pt;height:4.26in;text-align:center;">USPS PARCEL RTN SVC</div>
							<script>document.write('<img src="/images/barcode.ashx?Code=' + returnBarcode + '&Type=128C&X=4.25&Y=0.8&rotate=true&rounding=2" style="width:0.75in;height:4.25in;float:left;margin:0.1in;margin-top:0.05in;" alt="Invalid: missing RET barcode - ' + returnBarcode + '" />');</script>
							<div style="float:left;margin-top:0.1in;font-size:10pt;height:4.25in;text-align:center;">
							<script>document.write(printHuman(returnBarcode));</script></div>
						</div>
						<div style='width:1.35in;height:1.75in;float:right;text-align:center;margin:0px;overflow:hidden;margin-top:0.05in;' class='ierot'>
							<!-- bottom row, right side -->
							<div style='height:1.65in;border:solid black 3px;padding:.02in;line-height:1;font-size:9pt;font-weight:bold;'>
								PARCEL SELECT RTN SVC<br /><!-- too close and font size too small -->
								<span style="font-weight:normal;font-size:6pt;white-space:nowrap;font-family:Arial,sans-serif;">NEWGISTICS, INC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PERMIT NO. 77000</span>
							</div>
							<div style='height:1.45in;padding:.02in;line-height:1;font-size:9pt;font-weight:bold;text-align:left;margin-top:0.1in;margin-right:0.05in;'>
								SMARTLABEL RTN<br />
								PARCEL RTN SVC<br /><!-- too small -->
							</div>
							<div style='height:1.45in;padding:.02in;line-height:.2;font-size:0.16in;font-weight:bold;text-align:left;margin-top:0.1in;margin-right:0.05in;'>
								56901
							</div>
							<div style='font-size:17pt;border:solid black 4pt;height:0.48in;margin-top:0.5in;margin-right:0.05in;text-align:center;padding:.02in;;'>
								<div style=''>
								<script>document.write(sortCode);</script></div><!-- too small 2/16in -->
							</div>
						</div>
					</div><!-- end bottom row -->

				</div><!-- end smart label -->
			</div>
			<!--<div>           
                <div style="font-size:6pt;height:1in;float:left;">
                    <br /><br />     
                    <div style="width:100%;">Testing Engineer</div>
                    <div style="width:100%; height:.11in;">555 epip phase</div>
                    <div style="width:100%; height:.11in;">BLR area&nbsp;</div>
                    <div style="width:100%;">Meens street</div>                 
                </div>  
                <div style="vertical-align:top;">
                    <img src="/Printing/Packing/TEMP_NEWGISTICS_TOPRIGHT.png" />
                </div> 
            </div>
            <div style="float:left;clear:both;">
                <img src="/Printing/Packing/TEMP_NEWGISTICS_BOTTOM.png" />
            </div> -->
	<!-- $$$$$$$$$$$$$$$$$ </div> --></div>

    
</body>
</html>
